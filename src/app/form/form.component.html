<body>
  <app-navbar-only></app-navbar-only>
  <div class="forms-container">
    <mat-tab-group>
      <mat-tab class="custom-font" label="Form">
        <mat-divider></mat-divider>
        <div class="container">


          <div class="right">
            <mat-tab-group>
              <mat-tab label="Input">
                <button (click)="addField(1)">Add Field</button>
              </mat-tab>
              <mat-tab label="Radios / Checkboxes">
                <button (click)="addField(3)">Add Radio</button>
                <button (click)="addField(2)">Add Checkbox</button>
              </mat-tab>
              <mat-tab label="Buttons">
                <button (click)="addField(8)">Add Button</button>
                <button (click)="addButton(8)">Submit</button>
                <button (click)="addButton(8)">Reset</button>
              </mat-tab>
              <mat-tab label="Date / Time">
                <input type="date" id="Test_Date">
                <button (click)="addField(5)">Add Date Field</button>
              </mat-tab>
            </mat-tab-group>
            <mat-divider style="margin-top: 30px;"></mat-divider>
            <div class="formLink" *ngIf="formid !== null">
              <button (click)="sharelink()">Copy Form Link</button>
            </div>
          </div>
          <mat-divider [vertical]="true" style="opacity: 4;">
          </mat-divider>

          <div class="left" cdkDropList (cdkDropListDropped)="drop($event)">
            <div class="left-align">
              <input class="formname" type="text" name="myInput" [(ngModel)]="formname" placeholder="Form Name">
              <input class="description" type="text" name="lname" [(ngModel)]="desc" placeholder="Description"
                style="font-size: medium;">
              <hr width="70%">
            </div>
            <div class="formfield">
              <ng-container *ngFor="let field of forms.fieldsList; let i = index ">
                <div class="Labels" cdkDrag>
                  <div class="text" *ngIf="field.toolid === 1">
                    <div class="label-input-container">
                      <label>{{ i + 1 }}. {{ field.fieldName }}</label>
                      <input type='text' [name]="field.fieldName">
                    </div>
                  </div>
                  <div class="text" *ngIf="field.toolid === 3">
                    <div class="label-input-container">
                      <label>{{ i + 1 }}. {{ field.fieldName }}</label>
                      <div class="ops">
                        <ng-container *ngFor="let option of field.names">
                          <input type="radio" [name]="field.fieldName" [value]="option">{{ option }}
                        </ng-container>
                      </div>
                    </div>
                  </div>
                  <div class="text" *ngIf="field.toolid === 2">
                    <div class="label-input-container">
                      <label>{{ i + 1 }}. {{ field.fieldName }}</label>
                      <div class="ops">
                        <ng-container *ngFor="let option of field.names">
                          <input type="checkbox" [name]="field.fieldName" [value]="option">{{ option }}
                        </ng-container>
                      </div>
                    </div>
                  </div>
                  <div *ngIf="field.toolid === 8">
                    <button> {{ field.fieldName }}</button>
                  </div>
                  <div class="text" *ngIf="field.toolid === 5">
                    <div class="label-input-container">
                      <label>{{ i + 1 }}. {{ field.fieldName }}</label>
                      <input type="date" id="Test_Date">
                    </div>
                  </div>
                  <div *ngIf="field.toolid !== 0" class="edit-delete-buttons">
                    <mat-icon class="edit-icon" (click)="editField(field,type)">edit_square</mat-icon>
                    <mat-icon (click)="deleteField(field)">delete</mat-icon>
                  </div>
                </div>
              </ng-container>
            </div>
            <div class="button-container">
              <button (click)="saveForms()">Save Form</button>
            </div>
          </div>

        </div>
      </mat-tab>
      <mat-tab class="custom-font" label="Responses">
        <mat-divider></mat-divider>
        <div class="responses-header">
          <h3>Number of responses: {{userdata.length}}</h3>
          <mat-slide-toggle color="primary"><span class="receiving-responses">Receiving
              Responses</span></mat-slide-toggle>
          <h4>List of users/IDs:</h4>
          <div class="user-list" *ngFor="let user1 of userdata">
            <div class="user-wrapper">
              <a routerLink="/response" class="user-item" (click)="userdataa(user1)">{{
                user1.user.username }}</a>
            </div>
            <div class="print-delete-buttons">
              <mat-icon class="print-icon">print</mat-icon>
              <mat-icon class="delete-icon">delete</mat-icon>
            </div>
          </div>
        </div>
      </mat-tab>
    </mat-tab-group>

  </div>
</body>